{"version":3,"sources":["utils.js","Socket.js","NumberNode.js","DisplayNode.js","MathNode.js","PenNode.js","DataNode.js","RGBNode.js","RGBSplitNode.js","RGBPickerNode.js","WaveNode.js","RampNode.js","InfoNode.js","Connection.js","testState.js","ContextMenu.js","NodeContainer.js","makeNode.js","Canvas.js","App.js","serviceWorker.js","index.js"],"names":["formatRGB","rgb","concat","compareArrays","a","b","length","i","rgbToHex","r","g","componentToHex","c","hex","toString","Socket","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleMouseDown","bind","assertThisInitialized","handleMouseDp","handleMouseUp","formatValue","type","isNaN","value","parseFloat","toFixed","e","handleDraftConnection","id","handleDraftConnectionDrop","react_default","createElement","className","data-type","onMouseDown","onMouseUp","label","React","Component","NumberNode","state","dragging","handleClose","handleChange","handleDragStart","handleDragEnd","handleDraftConection","handleDraftConectionDrop","removeNode","v","target","updateOutput","update","setState","socketID","startDraftConnection","finishDraftConection","_this2","nodeCSS","width","height","transform","x","y","outputs","map","socket","Socket_Socket","key","finishDraftConectionDrop","data-dragging","style","title","onClick","viewBox","d","onChange","DisplayNode","finishDraftConnection","inputs","MathNode","solve","componentDidUpdate","handleSelect","operation","result","prevProps","outputValue","updateNodes","PenNode","radius","fill","newPen","pen","updatePen","drawingData","distance","utils","finishDraftConnectionDrop","formatOutput","_rgb","exec","parseInt","canvasRef","createRef","drawWave","componentDidMount","current","getContext","fillCircle","beginPath","arc","Math","PI","canvas","n","t","f","ro","p","sin","asin","sgn","atan","tan","clearRect","fillStyle","fillRect","moveTo","lineTo","lineWidth","stroke","closePath","ref","draggingStopIndex","stops","position","color","picker","drawGradient","handleStopColorChange","handleStopMouseDown","handleStopMouseUp","handleStopDrag","addStop","removeStop","triggerColorPicker","gradient","createLinearGradient","forEach","stop","addColorStop","index","dataset","prevState","stopPropagation","clientX","imageData","getImageData","data","push","click","splice","preventDefault","_this3","stopCSS","left","indicatorCSS","background","data-index","onMouseMove","Connection","x1","y1","x2","y2","generatePath","testState","contextMenu","isOpen","draftConnection","isActive","from","nodeID","mouse","drag","nodeIndex","nodes","connections","to","ContextMenu","handleClick","addNode","getAttribute","menuCSS","data-value","NodeContainer","getNodeByID","handleMouseMove","handleContextMenu","node","random","makeNode","filter","proposedConnection","isConnectionValid","dragIndex","deltaX","deltaY","clientY","_this4","sqrt","pow","console","error","outputIndex","newValue","_this5","relevantConnections","_loop","rc","toIndex","fromIndex","connectionItems","Connection_Connection","nodeItems","NumberNode_NumberNode","DataNode_NumberNode","DisplayNode_DisplayNode","MathNode_MathNode","PenNode_PenNode","RGBNode_NumberNode","RGBPickerNode_NumberNode","RGBSplitNode_NumberNode","WaveNode_NumberNode","RampNode_NumberNode","InfoNode_NumberNode","ContextMenu_ContextMenu","fromNode","onContextMenu","Canvas","isDrawing","clear","resetData","saveImage","updateDrawingData","speed","toBlob","blob","URLObj","window","URL","webkitURL","document","href","createObjectURL","download","body","appendChild","removeChild","area","App","newData","innerHeight","innerWidth","NodeContainer_NodeContainer","Canvas_Canvas","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2c931cdc.chunk.js","sourcesContent":["export function distance(x1, y1, x2, y2) {\r\n    return Math.sqrt(Math.pow((x1 - x2), 2) - Math.pow((y1 - y2), 2));\r\n}\r\n\r\nexport function formatRGB(rgb) {\r\n    return `rgb(${rgb[0]}, ${rgb[1]}, ${rgb[2]})`\r\n}\r\n\r\nexport function compareArrays(a, b) {\r\n    if (a.length !== b.length) { return false }\r\n    for (let i = 0; i < a.length; i++) {\r\n        if (a[i] !== b[i]) {\r\n            return false\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function rgbToHex(rgb) {\r\n    const r = rgb[0]\r\n    const g = rgb[1]\r\n    const b = rgb[2]\r\n\r\n    function componentToHex(c) {\r\n        var hex = c.toString(16);\r\n        return hex.length === 1 ? \"0\" + hex : hex;\r\n    }\r\n    return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\nexport function hexToRGB(hex) {\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result ? {\r\n      r: parseInt(result[1], 16),\r\n      g: parseInt(result[2], 16),\r\n      b: parseInt(result[3], 16)\r\n    } : null;\r\n  }\r\n  ","import React from 'react';\r\n\r\nexport default class Socket extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.handleMouseDown = this.handleMouseDown.bind(this);\r\n    this.handleMouseDp = this.handleMouseUp.bind(this);\r\n    this.formatValue = this.formatValue.bind(this)\r\n  }\r\n\r\n  formatValue(){\r\n    if (this.props.type !== 'color' && isNaN(this.props.value) === false){\r\n      return (parseFloat(this.props.value).toFixed(1))\r\n    }\r\n  }\r\n\r\n  handleMouseDown(e) {\r\n    this.props.handleDraftConnection(this.props.id);\r\n  }\r\n  \r\n  handleMouseUp(e) {\r\n    this.props.handleDraftConnectionDrop(this.props.id);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <li className='socket' data-type={this.props.type}>\r\n        <span onMouseDown={this.handleMouseDown} onMouseUp={this.handleMouseDp} className='socket--plug'></span>\r\n        <span className='socket--label'>{this.props.label}: {this.formatValue()}</span>\r\n      </li>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport Socket from './Socket.js';\r\n\r\nexport default class NumberNode extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            dragging: false\r\n        }\r\n\r\n        this.handleClose = this.handleClose.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleDragStart = this.handleDragStart.bind(this)\r\n        this.handleDragEnd = this.handleDragEnd.bind(this)\r\n        this.handleDraftConection = this.handleDraftConection.bind(this)\r\n        this.handleDraftConectionDrop = this.handleDraftConectionDrop.bind(this)\r\n    }\r\n\r\n    handleClose(){\r\n        this.props.removeNode(this.props.id)\r\n    }\r\n\r\n    handleChange(e) {\r\n        let v = parseFloat(e.target.value)\r\n        if (isNaN(v)){v = 0}\r\n        this.props.updateOutput(this.props.id, 0, v)\r\n        this.props.update(this.props.id)\r\n    }\r\n\r\n    handleDragStart() {\r\n        this.setState({\r\n            dragging: true\r\n        })\r\n        this.props.handleDragStart(this.props.id)\r\n    }\r\n    handleDragEnd() {\r\n        this.setState({\r\n            dragging: false\r\n        })\r\n        this.props.handleDragEnd(this.props.id)\r\n    }\r\n\r\n    handleDraftConection(socketID) {\r\n        this.props.startDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    handleDraftConectionDrop(socketID) {\r\n        this.props.finishDraftConection(this.props.id, socketID)\r\n    }\r\n\r\n    render() {\r\n        const nodeCSS = {\r\n            width: `${this.props.width}px`,\r\n            height: `${this.props.height}px`,\r\n            transform: `translateX(${this.props.x}px) translateY(${this.props.y}px)`\r\n        }\r\n        const outputs = this.props.outputs.map((socket) =>\r\n            <Socket key={socket.id} id={socket.id} finishDraftConectionDrop={this.handleDraftConectionDrop} handleDraftConnection={this.handleDraftConection} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n\r\n        return (\r\n            <div data-dragging={this.state.dragging} className='node' key={this.props.id} style={nodeCSS}>\r\n                <header onMouseDown={this.handleDragStart} onMouseUp={this.handleDragEnd} className='node-header'>\r\n                    <span>{this.props.title}</span>\r\n                    <button onClick={this.handleClose} className='node--close'>\r\n                        <svg viewBox=\"0 0 24 24\">\r\n                            <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\r\n                        </svg>\r\n                    Close</button>\r\n                </header>\r\n                <div className='node-body'>\r\n                    <input type='number' value={this.props.outputs[0].value} onChange={this.handleChange}></input>\r\n                </div>\r\n                <ul className='node-outputs'>\r\n                    {outputs}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport Socket from './Socket.js'\r\n\r\nexport default class DisplayNode extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dragging: false\r\n        }\r\n        this.handleDraftConnectionDrop = this.handleDraftConnectionDrop.bind(this);\r\n        this.handleDragStart = this.handleDragStart.bind(this)\r\n        this.handleDragEnd = this.handleDragEnd.bind(this)\r\n        this.handleClose = this.handleClose.bind(this)\r\n    }\r\n\r\n    handleDraftConnectionDrop(socketID) {\r\n        this.props.finishDraftConnection(this.props.id, socketID)\r\n    }\r\n    handleClose() {\r\n        this.props.removeNode(this.props.id)\r\n    }\r\n    handleDragStart() {\r\n        this.setState({\r\n            dragging: true\r\n        })\r\n        this.props.handleDragStart(this.props.id)\r\n    }\r\n    handleDragEnd() {\r\n        this.setState({\r\n            dragging: false\r\n        })\r\n        this.props.handleDragEnd(this.props.id)\r\n    }\r\n\r\n    render() {\r\n        const nodeCSS = {\r\n            width: `${this.props.width}px`,\r\n            height: `${this.props.height}px`,\r\n            transform: `translateX(${this.props.x}px) translateY(${this.props.y}px)`\r\n        }\r\n        const inputs = this.props.inputs.map((socket) =>\r\n            <Socket handleDraftConnectionDrop={this.handleDraftConnectionDrop} key={socket.id} id={socket.id} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n\r\n        return (\r\n            <div data-dragging={this.state.dragging} className='node' key={this.props.id} style={nodeCSS} >\r\n                <header onMouseDown={this.handleDragStart} onMouseUp={this.handleDragEnd} className='node-header'>Display\r\n                <button onClick={this.handleClose} className='node--close'>\r\n                        <svg viewBox=\"0 0 24 24\">\r\n                            <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\r\n                        </svg>\r\n                        Close</button>\r\n                </header>\r\n                <ul className='node-inputs'>\r\n                    {inputs}\r\n                </ul>\r\n                <div className='node-body'>\r\n                    <h2>{parseFloat(this.props.inputs[0].value).toFixed(2)}</h2>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","// This is called Math but it just adds two inputs\r\nimport React from 'react'\r\nimport Socket from './Socket.js';\r\nexport default class MathNode extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.solve = this.solve.bind(this)\r\n        this.componentDidUpdate = this.componentDidUpdate.bind(this)\r\n        this.handleSelect = this.handleSelect.bind(this)\r\n        this.handleDraftConnection = this.handleDraftConnection.bind(this)\r\n        this.handleDraftConnectionDrop = this.handleDraftConnectionDrop.bind(this)\r\n        this.handleDragStart = this.handleDragStart.bind(this)\r\n        this.handleDragEnd = this.handleDragEnd.bind(this)\r\n        this.handleClose = this.handleClose.bind(this);\r\n\r\n        this.state = {\r\n            operation: 'add'\r\n        }\r\n    }\r\n\r\n    handleClose() {\r\n        this.props.removeNode(this.props.id)\r\n    }\r\n\r\n    handleDragStart() {\r\n        this.setState({\r\n            dragging: true\r\n        })\r\n        this.props.handleDragStart(this.props.id)\r\n    }\r\n    handleDragEnd() {\r\n        this.setState({\r\n            dragging: false\r\n        })\r\n        this.props.handleDragEnd(this.props.id)\r\n    }\r\n\r\n    solve() {\r\n        let a = parseFloat(this.props.inputs[0].value);\r\n        let b = parseFloat(this.props.inputs[1].value);\r\n        let result = 0;\r\n        // y(t) = A sin (2PI f t + ro) where:\r\n        // A - Amplitude\r\n        // f - Frequency\r\n        // ro - Phase\r\n        if (isNaN(a) === false && isNaN(b) === false){\r\n            if (this.state.operation === 'add') { result = a + b; }\r\n            if (this.state.operation === 'subtract') { result = a - b; }\r\n            if (this.state.operation === 'multiply') { result = a * b; }\r\n            if (this.state.operation === 'divide' && b !== 0) { result = a / b; }\r\n            if (this.state.operation === 'average') { result = ((a + b) / 2); }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    handleSelect(e) {\r\n        this.setState({ operation: e.target.value })\r\n    }\r\n\r\n    handleDraftConnection(socketID) {\r\n        this.props.startDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    handleDraftConnectionDrop(socketID) {\r\n        this.props.finishDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        let outputValue = this.solve();\r\n        if (this.props.outputs[0].value !== outputValue) {\r\n            this.props.updateOutput(this.props.id, 0, outputValue)\r\n            this.props.updateNodes(this.props.id);\r\n        }\r\n    }\r\n    render() {\r\n        const nodeCSS = {\r\n            width: `${this.props.width}px`,\r\n            height: `${this.props.height}px`,\r\n            transform: `translateX(${this.props.x}px) translateY(${this.props.y}px)`\r\n        }\r\n        const inputs = this.props.inputs.map((socket) =>\r\n            <Socket handleDraftConnectionDrop={this.handleDraftConnectionDrop} key={socket.id} id={socket.id} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n        const outputs = this.props.outputs.map((socket) =>\r\n            <Socket key={socket.id} id={socket.id} finishDraftConectionDrop={this.handleDraftConectionDrop} handleDraftConnection={this.handleDraftConnection} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n        return (\r\n            <div data-dragging={this.state.dragging} className='node' style={nodeCSS}>\r\n                <header onMouseDown={this.handleDragStart} onMouseUp={this.handleDragEnd} className='node-header'>Math\r\n                <button onClick={this.handleClose} className='node--close'>\r\n                        <svg viewBox=\"0 0 24 24\">\r\n                            <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\r\n                        </svg>\r\n                        Close</button>\r\n                </header>\r\n                <div className='node-body'>\r\n                    <select value={this.state.operation} onChange={this.handleSelect}>\r\n                        <option value='add'>Add</option>\r\n                        <option value='subtract'>Subtract</option>\r\n                        <option value='multiply'>Multiply</option>\r\n                        <option value='divide'>Divide</option>\r\n                        <option value='average'>Average</option>\r\n                    </select>\r\n                </div>\r\n                <ul className='node-inputs'>\r\n                    {inputs}\r\n                </ul>\r\n                <ul className='node-outputs'>\r\n                    {outputs}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Socket from './Socket.js'\r\n\r\nexport default class PenNode extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dragging: false\r\n        }\r\n        this.handleDraftConnectionDrop = this.handleDraftConnectionDrop.bind(this);\r\n        this.handleDragStart = this.handleDragStart.bind(this)\r\n        this.handleDragEnd = this.handleDragEnd.bind(this)\r\n        this.componentDidUpdate = this.componentDidUpdate.bind(this)\r\n        this.solve = this.solve.bind(this)\r\n    }\r\n\r\n    handleDraftConnectionDrop(socketID) {\r\n        this.props.finishDraftConnection(this.props.id, socketID)\r\n    }\r\n    handleDragStart() {\r\n        this.setState({\r\n            dragging: true\r\n        })\r\n        this.props.handleDragStart(this.props.id)\r\n    }\r\n    handleDragEnd() {\r\n        this.setState({\r\n            dragging: false\r\n        })\r\n        this.props.handleDragEnd(this.props.id)\r\n    }\r\n    solve() {\r\n        let r = this.props.inputs[0].value\r\n        if (r < 0){r = 0}\r\n        let newPen = {\r\n            radius: r,\r\n            fill: this.props.inputs[1].value\r\n        };\r\n        return newPen;\r\n    }\r\n    componentDidUpdate() {\r\n        let newPen = this.solve();\r\n        if (this.props.pen.radius !== newPen.radius ||\r\n            this.props.pen.fill !== newPen.fill) {\r\n            this.props.updatePen(newPen)\r\n        }\r\n    }\r\n    render() {\r\n        const nodeCSS = {\r\n            width: `${this.props.width}px`,\r\n            height: `${this.props.height}px`,\r\n            transform: `translateX(${this.props.x}px) translateY(${this.props.y}px)`\r\n        }\r\n        const inputs = this.props.inputs.map((socket) =>\r\n            <Socket type={socket.type} key={socket.id} id={socket.id} handleDraftConnectionDrop={this.handleDraftConnectionDrop} handleDraftConnection={this.handleDraftConnection} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n\r\n        return (\r\n            <div data-dragging={this.state.dragging} className='node permanent' key={this.props.id} style={nodeCSS}>\r\n                <header onMouseDown={this.handleDragStart} onMouseUp={this.handleDragEnd} className='node-header'>{this.props.title}</header>\r\n                <div className='node-body'>\r\n                </div>\r\n                <ul className='node-inputs'>\r\n                    {inputs}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport Socket from './Socket.js';\r\n\r\nexport default class NumberNode extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            dragging: false\r\n        }\r\n\r\n        this.handleClose = this.handleClose.bind(this)\r\n        this.componentDidUpdate = this.componentDidUpdate.bind(this)\r\n        this.handleDragStart = this.handleDragStart.bind(this)\r\n        this.handleDragEnd = this.handleDragEnd.bind(this)\r\n        this.handleDraftConection = this.handleDraftConection.bind(this)\r\n        this.handleDraftConectionDrop = this.handleDraftConectionDrop.bind(this)\r\n\r\n    }\r\n\r\n    handleClose(e){\r\n        this.props.removeNode(this.props.id)\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        let d = this.props.drawingData.distance;\r\n        let x = this.props.drawingData.x;\r\n        let y = this.props.drawingData.y;\r\n\r\n        if (isNaN(x)){x = 0}\r\n        if (isNaN(y)){y = 0}\r\n\r\n        if (d !== this.props.outputs[0].value){\r\n            this.props.updateOutput(this.props.id, 0, d)\r\n            this.props.update(this.props.id)\r\n        }\r\n        if (x !== this.props.outputs[1].value){\r\n            this.props.updateOutput(this.props.id, 1, x)\r\n            this.props.update(this.props.id)\r\n        }\r\n         if (y !== this.props.outputs[2].value){\r\n             this.props.updateOutput(this.props.id, 2, y)\r\n             this.props.update(this.props.id)\r\n         }\r\n    }\r\n\r\n    handleDragStart() {\r\n        this.setState({\r\n            dragging: true\r\n        })\r\n        this.props.handleDragStart(this.props.id)\r\n    }\r\n    handleDragEnd() {\r\n        this.setState({\r\n            dragging: false\r\n        })\r\n        this.props.handleDragEnd(this.props.id)\r\n    }\r\n\r\n    handleDraftConection(socketID) {\r\n        this.props.startDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    handleDraftConectionDrop(socketID) {\r\n        this.props.finishDraftConection(this.props.id, socketID)\r\n    }\r\n\r\n    render() {\r\n        const nodeCSS = {\r\n            width: `${this.props.width}px`,\r\n            height: `${this.props.height}px`,\r\n            transform: `translateX(${this.props.x}px) translateY(${this.props.y}px)`\r\n        }\r\n        const outputs = this.props.outputs.map((socket) =>\r\n            <Socket type={socket.type} key={socket.id} id={socket.id} finishDraftConectionDrop={this.handleDraftConectionDrop} handleDraftConnection={this.handleDraftConection} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n\r\n        return (\r\n            <div data-dragging={this.state.dragging} className='node permanent' key={this.props.id} style={nodeCSS}>\r\n                <header onMouseDown={this.handleDragStart} onMouseUp={this.handleDragEnd} className='node-header'>\r\n                    <span>{this.props.title}</span>\r\n                </header>\r\n                <div className='node-body'>\r\n                </div>\r\n                <ul className='node-outputs'>\r\n                    {outputs}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport Socket from './Socket.js';\r\nimport * as utils from './utils.js';\r\n\r\nexport default class NumberNode extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            dragging: false\r\n        }\r\n        this.handleClose = this.handleClose.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleDragStart = this.handleDragStart.bind(this)\r\n        this.handleDragEnd = this.handleDragEnd.bind(this)\r\n        this.handleDraftConnection = this.handleDraftConnection.bind(this)\r\n        this.handleDraftConnectionDrop = this.handleDraftConnectionDrop.bind(this)\r\n    }\r\n\r\n    handleClose(e) {\r\n        this.props.removeNode(this.props.id)\r\n    }\r\n\r\n    handleChange(e) {\r\n        let v = e.target.value\r\n        this.props.updateOutput(this.props.id, 0, v)\r\n        this.props.update(this.props.id)\r\n    }\r\n\r\n    handleDragStart() {\r\n        this.setState({\r\n            dragging: true\r\n        })\r\n        this.props.handleDragStart(this.props.id)\r\n    }\r\n    solve() {\r\n        let r = parseFloat(this.props.inputs[0].value);\r\n        let g = parseFloat(this.props.inputs[1].value);\r\n        let b = parseFloat(this.props.inputs[2].value);\r\n\r\n        if (r > 255){r = 255}\r\n        if (g > 255){g = 255}\r\n        if (b > 255){b = 255}\r\n\r\n        return [r, g, b];\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        let outputValue = this.solve();\r\n        if (utils.compareArrays(this.props.outputs[0].value, outputValue) === false) {\r\n            this.props.updateOutput(this.props.id, 0, outputValue)\r\n            this.props.updateNodes(this.props.id);\r\n        }\r\n    }\r\n    handleDragEnd() {\r\n        this.setState({\r\n            dragging: false\r\n        })\r\n        this.props.handleDragEnd(this.props.id)\r\n    }\r\n\r\n    handleDraftConnection(socketID) {\r\n        this.props.startDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    handleDraftConnectionDrop(socketID) {\r\n        this.props.finishDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    render() {\r\n        const nodeCSS = {\r\n            width: `${this.props.width}px`,\r\n            height: `${this.props.height}px`,\r\n            transform: `translateX(${this.props.x}px) translateY(${this.props.y}px)`\r\n        }\r\n        const inputs = this.props.inputs.map((socket) =>\r\n            <Socket handleDraftConnectionDrop={this.handleDraftConnectionDrop} key={socket.id} id={socket.id} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n        const outputs = this.props.outputs.map((socket) =>\r\n            <Socket type={socket.type} key={socket.id} id={socket.id} finishDraftConnectionDrop={this.handleDraftConnectionDrop} handleDraftConnection={this.handleDraftConnection} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n\r\n        return (\r\n            <div data-dragging={this.state.dragging} className='node' key={this.props.id} style={nodeCSS}>\r\n                <header onMouseDown={this.handleDragStart} onMouseUp={this.handleDragEnd} className='node-header'>\r\n                    <span>{this.props.title}</span>\r\n                    <button onClick={this.handleClose} className='node--close'>\r\n                        <svg viewBox=\"0 0 24 24\">\r\n                            <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\r\n                        </svg>\r\n                        Close</button>\r\n                </header>\r\n                <div className='node-body'>\r\n                </div>\r\n                <ul className='node-inputs'>\r\n                    {inputs}\r\n                </ul>\r\n                <ul className='node-outputs'>\r\n                    {outputs}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport Socket from './Socket.js';\r\n\r\nexport default class NumberNode extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            dragging: false\r\n        }\r\n        this.handleClose = this.handleClose.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleDragStart = this.handleDragStart.bind(this)\r\n        this.handleDragEnd = this.handleDragEnd.bind(this)\r\n        this.handleDraftConnection = this.handleDraftConnection.bind(this)\r\n        this.handleDraftConnectionDrop = this.handleDraftConnectionDrop.bind(this)\r\n    }\r\n\r\n    handleClose(e) {\r\n        this.props.removeNode(this.props.id)\r\n    }\r\n\r\n    handleChange(e) {\r\n        let v = e.target.value\r\n        this.props.updateOutput(this.props.id, 0, v)\r\n        this.props.update(this.props.id)\r\n    }\r\n\r\n    handleDragStart() {\r\n        this.setState({\r\n            dragging: true\r\n        })\r\n        this.props.handleDragStart(this.props.id)\r\n    }\r\n    solve() {\r\n        let rgb = this.props.inputs[0].value;\r\n        return [rgb[0], rgb[1], rgb[2]];\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        let outputValue = this.solve();\r\n        if (this.props.outputs[0].value !== outputValue[0] ||\r\n            this.props.outputs[1].value !== outputValue[1] ||\r\n            this.props.outputs[2].value !== outputValue[2]) {\r\n            \r\n                this.props.updateOutput(this.props.id, 0, outputValue[0])\r\n            this.props.updateOutput(this.props.id, 1, outputValue[1])\r\n            this.props.updateOutput(this.props.id, 2, outputValue[2])\r\n            this.props.updateNodes(this.props.id);\r\n        }\r\n    }\r\n    handleDragEnd() {\r\n        this.setState({\r\n            dragging: false\r\n        })\r\n        this.props.handleDragEnd(this.props.id)\r\n    }\r\n\r\n    handleDraftConnection(socketID) {\r\n        this.props.startDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    handleDraftConnectionDrop(socketID) {\r\n        this.props.finishDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    render() {\r\n        const nodeCSS = {\r\n            width: `${this.props.width}px`,\r\n            height: `${this.props.height}px`,\r\n            transform: `translateX(${this.props.x}px) translateY(${this.props.y}px)`\r\n        }\r\n        const inputs = this.props.inputs.map((socket) =>\r\n            <Socket type={socket.type} handleDraftConnectionDrop={this.handleDraftConnectionDrop} key={socket.id} id={socket.id} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n        const outputs = this.props.outputs.map((socket) =>\r\n            <Socket type={socket.type} key={socket.id} id={socket.id} finishDraftConnectionDrop={this.handleDraftConnectionDrop} handleDraftConnection={this.handleDraftConnection} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n\r\n        return (\r\n            <div data-dragging={this.state.dragging} className='node' key={this.props.id} style={nodeCSS}>\r\n                <header onMouseDown={this.handleDragStart} onMouseUp={this.handleDragEnd} className='node-header'>\r\n                    <span>{this.props.title}</span>\r\n                    <button onClick={this.handleClose} className='node--close'>\r\n                        <svg viewBox=\"0 0 24 24\">\r\n                            <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\r\n                        </svg>\r\n                        Close</button>\r\n                </header>\r\n                <div className='node-body'>\r\n                </div>\r\n                <ul className='node-inputs'>\r\n                    {inputs}\r\n                </ul>\r\n                <ul className='node-outputs'>\r\n                    {outputs}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport Socket from './Socket.js';\r\nimport * as utils from './utils.js';\r\n\r\nexport default class NumberNode extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            dragging: false\r\n        }\r\n        this.handleClose = this.handleClose.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleDragStart = this.handleDragStart.bind(this)\r\n        this.handleDragEnd = this.handleDragEnd.bind(this)\r\n        this.handleDraftConnection = this.handleDraftConnection.bind(this)\r\n        this.handleDraftConnectionDrop = this.handleDraftConnectionDrop.bind(this)\r\n        this.formatOutput = this.formatOutput.bind(this)\r\n    }\r\n\r\n    handleClose(e) {\r\n        this.props.removeNode(this.props.id)\r\n    }\r\n\r\n    handleChange(e) {\r\n        let v = e.target.value;\r\n        let _rgb = utils.hexToRGB(v);\r\n        let rgb = [_rgb.r, _rgb.g, _rgb.b]\r\n        this.props.updateOutput(this.props.id, 0, rgb)\r\n        this.props.update(this.props.id)\r\n    }\r\n\r\n    handleDragStart() {\r\n        this.setState({\r\n            dragging: true\r\n        })\r\n        this.props.handleDragStart(this.props.id)\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n    }\r\n    handleDragEnd() {\r\n        this.setState({\r\n            dragging: false\r\n        })\r\n        this.props.handleDragEnd(this.props.id)\r\n    }\r\n\r\n    handleDraftConnection(socketID) {\r\n        this.props.startDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    handleDraftConnectionDrop(socketID) {\r\n        this.props.finishDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    formatOutput(){\r\n        let hex = utils.rgbToHex(this.props.outputs[0].value)\r\n        return hex\r\n    }\r\n\r\n    render() {\r\n        const nodeCSS = {\r\n            width: `${this.props.width}px`,\r\n            height: `${this.props.height}px`,\r\n            transform: `translateX(${this.props.x}px) translateY(${this.props.y}px)`\r\n        }\r\n        const inputs = this.props.inputs.map((socket) =>\r\n            <Socket handleDraftConnectionDrop={this.handleDraftConnectionDrop} key={socket.id} id={socket.id} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n        const outputs = this.props.outputs.map((socket) =>\r\n            <Socket type={socket.type} key={socket.id} id={socket.id} finishDraftConnectionDrop={this.handleDraftConnectionDrop} handleDraftConnection={this.handleDraftConnection} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n\r\n        return (\r\n            <div data-dragging={this.state.dragging} className='node' key={this.props.id} style={nodeCSS}>\r\n                <header onMouseDown={this.handleDragStart} onMouseUp={this.handleDragEnd} className='node-header'>\r\n                    <span>{this.props.title}</span>\r\n                    <button onClick={this.handleClose} className='node--close'>\r\n                        <svg viewBox=\"0 0 24 24\">\r\n                            <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\r\n                        </svg>\r\n                        Close</button>\r\n                </header>\r\n                <div className='node-body'>\r\n                    <input type='color' onChange={this.handleChange} value={this.formatOutput()}></input>\r\n                </div>\r\n                <ul className='node-inputs'>\r\n                    {inputs}\r\n                </ul>\r\n                <ul className='node-outputs'>\r\n                    {outputs}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport Socket from './Socket.js';\r\n\r\nexport default class NumberNode extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            dragging: false,\r\n            operation: 'sine'\r\n        }\r\n\r\n        this.c = null;\r\n        this.canvasRef = React.createRef();\r\n\r\n        this.handleClose = this.handleClose.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleDragStart = this.handleDragStart.bind(this)\r\n        this.handleDragEnd = this.handleDragEnd.bind(this)\r\n        this.handleSelect = this.handleSelect.bind(this)\r\n        this.handleDraftConnection = this.handleDraftConnection.bind(this)\r\n        this.handleDraftConnectionDrop = this.handleDraftConnectionDrop.bind(this)\r\n        this.solve = this.solve.bind(this);\r\n        this.drawWave = this.drawWave.bind(this)\r\n\r\n        this.componentDidMount = this.componentDidMount.bind(this);\r\n        this.componentDidUpdate = this.componentDidUpdate.bind(this);\r\n    }\r\n\r\n    handleClose(e) {\r\n        this.props.removeNode(this.props.id)\r\n    }\r\n\r\n    handleSelect(e) {\r\n        this.setState({ operation: e.target.value })\r\n    }\r\n\r\n    handleChange(e) {\r\n        let v = this.solve()\r\n        this.props.updateOutput(this.props.id, 0, v)\r\n        this.props.update(this.props.id)\r\n    }\r\n\r\n    handleDragStart() {\r\n        this.setState({\r\n            dragging: true\r\n        })\r\n        this.props.handleDragStart(this.props.id)\r\n    }\r\n    handleDragEnd() {\r\n        this.setState({\r\n            dragging: false\r\n        })\r\n        this.props.handleDragEnd(this.props.id)\r\n    }\r\n\r\n    handleDraftConnection(socketID) {\r\n        this.props.startDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    handleDraftConnectionDrop(socketID) {\r\n        this.props.finishDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.c = this.canvasRef.current.getContext('2d')\r\n        this.c.fillCircle = function (x, y, r) {\r\n            this.beginPath();\r\n            this.arc(x, y, r, 0, 2 * Math.PI, false);\r\n            this.fill();\r\n        };\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.drawWave()\r\n        //        let outputValue = this.solve(this.c.canvas.width / 2);\r\n        let outputValue = this.solve(this.c.canvas.width / 2);\r\n        if (this.props.outputs[0].value !== outputValue) {\r\n            this.props.updateOutput(this.props.id, 0, outputValue)\r\n            this.props.updateNodes(this.props.id);\r\n        }\r\n    }\r\n\r\n    sgn(n) {\r\n        if (n > 0) { return 1 }\r\n        if (n === 0) { return 0 }\r\n        if (n < 0) { return -1 }\r\n    }\r\n\r\n    solve(t) {\r\n        let a = this.props.inputs[0].value;\r\n        let f = this.props.inputs[1].value;\r\n        let ro = this.props.inputs[2].value;\r\n        let p = 1 / f;\r\n\r\n        function cotan(x) { return 1 / Math.tan(x); }\r\n        if (this.state.operation === 'sine') {\r\n            return a * Math.sin((2 * Math.PI) * f * t + ro);\r\n        }\r\n\r\n        if (this.state.operation === 'triangle') {\r\n            a *= .65;\r\n            return a * Math.asin(Math.sin(((2 * Math.PI) / p) * t + ro));\r\n        }\r\n        if (this.state.operation === 'square') {\r\n            return a * this.sgn(Math.sin((2 * Math.PI) * f * t + ro));\r\n        }\r\n        if (this.state.operation === 'sawtooth') {\r\n            return (-2 * a) / Math.PI * Math.atan(cotan((t * Math.PI) / p + ro / 2));\r\n        }\r\n\r\n    }\r\n\r\n    drawWave() {\r\n        const resolution = .1;\r\n\r\n        this.c.clearRect(0, 0, this.c.canvas.width, this.c.canvas.height)\r\n        this.c.fillStyle = 'lightgray';\r\n        for (let i = 0; i < 15; i++) { this.c.fillRect(20 * i + 15, 0, 1, this.props.height) }\r\n        for (let i = 0; i < 15; i++) { this.c.fillRect(0, 20 * i + 15, this.props.width, 1) }\r\n\r\n        this.c.fillStyle = 'black';\r\n\r\n        this.c.fillCircle(this.c.canvas.width / 2, this.solve(this.c.canvas.width / 2) * -1 + 60, 3)\r\n        this.c.fillRect(0, 60, this.c.canvas.width, 1)\r\n\r\n        this.c.beginPath();\r\n        this.c.moveTo(0, 60)\r\n\r\n        for (let x = 0; x < this.c.canvas.width; x += resolution) {\r\n            let y = this.solve(x) * -1;\r\n            this.c.lineTo(x, y + 60)\r\n        }\r\n        this.c.lineWidth = 1.5;\r\n        this.c.stroke();\r\n        this.c.closePath()\r\n    }\r\n\r\n    render() {\r\n        const nodeCSS = {\r\n            width: `${this.props.width}px`,\r\n            height: `${this.props.height}px`,\r\n            transform: `translateX(${this.props.x}px) translateY(${this.props.y}px)`\r\n        }\r\n        const inputs = this.props.inputs.map((socket) =>\r\n            <Socket handleDraftConnectionDrop={this.handleDraftConnectionDrop} key={socket.id} id={socket.id} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n        const outputs = this.props.outputs.map((socket) =>\r\n            <Socket key={socket.id} id={socket.id} finishDraftConnectionDrop={this.handleDraftConnectionDrop} handleDraftConnection={this.handleDraftConnection} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n\r\n        return (\r\n            <div data-dragging={this.state.dragging} className='node' key={this.props.id} style={nodeCSS}>\r\n                <header onMouseDown={this.handleDragStart} onMouseUp={this.handleDragEnd} className='node-header'>\r\n                    <span>{this.props.title}</span>\r\n                    <button onClick={this.handleClose} className='node--close'>\r\n                        <svg viewBox=\"0 0 24 24\">\r\n                            <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\r\n                        </svg>\r\n                        Close</button>\r\n                </header>\r\n                <div className='node-body'>\r\n                    <canvas className='wave--canvas' ref={this.canvasRef} height={this.props.height - 140} width={this.props.width - 20}>\r\n                    </canvas>\r\n                    <select value={this.state.operation} onChange={this.handleSelect}>\r\n                        <option value='sine'>Sine</option>\r\n                        <option value='square'>Square</option>\r\n                        <option value='triangle'>Triangle</option>\r\n                        <option value='sawtooth'>Sawtooth</option>\r\n                    </select>\r\n                </div>\r\n                <ul className='node-inputs'>\r\n                    {inputs}\r\n                </ul>\r\n                <ul className='node-outputs'>\r\n                    {outputs}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport Socket from './Socket.js';\r\nimport * as utils from './utils.js';\r\nimport './css/RampNode.css'\r\n\r\nexport default class NumberNode extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            dragging: false,  // should be a prop\r\n\r\n            draggingStopIndex: null,\r\n            stops: [\r\n                { position: 0.0, color: '#ff33aa', picker: React.createRef() },\r\n                { position: 1.0, color: '#aabbcc', picker: React.createRef() }\r\n            ]\r\n        }\r\n\r\n        this.c = null;\r\n        this.canvasRef = React.createRef();\r\n\r\n        this.handleClose = this.handleClose.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleDragStart = this.handleDragStart.bind(this)\r\n        this.handleDragEnd = this.handleDragEnd.bind(this)\r\n        this.handleDraftConnection = this.handleDraftConnection.bind(this)\r\n        this.handleDraftConnectionDrop = this.handleDraftConnectionDrop.bind(this)\r\n        this.solve = this.solve.bind(this);\r\n        this.drawGradient = this.drawGradient.bind(this)\r\n        this.handleStopColorChange = this.handleStopColorChange.bind(this)\r\n        this.handleStopMouseDown = this.handleStopMouseDown.bind(this)\r\n        this.handleStopMouseUp = this.handleStopMouseUp.bind(this)\r\n        this.handleStopDrag = this.handleStopDrag.bind(this)\r\n        this.addStop = this.addStop.bind(this)\r\n        this.removeStop = this.removeStop.bind(this)\r\n        this.triggerColorPicker = this.triggerColorPicker.bind(this)\r\n\r\n        this.componentDidMount = this.componentDidMount.bind(this);\r\n        this.componentDidUpdate = this.componentDidUpdate.bind(this);\r\n    }\r\n\r\n    handleClose() {\r\n        this.props.removeNode(this.props.id)\r\n    }\r\n\r\n    handleChange() {\r\n        let v = this.solve()\r\n        this.props.updateOutput(this.props.id, 0, v)\r\n        this.props.update(this.props.id)\r\n    }\r\n\r\n    drawGradient() {\r\n        let gradient = this.c.createLinearGradient(0, 0, this.props.width - 20, 0);\r\n\r\n        this.state.stops.forEach((stop) => {\r\n            gradient.addColorStop(stop.position, stop.color);\r\n        })\r\n\r\n        this.c.fillStyle = gradient;\r\n        this.c.fillRect(0, 0, this.c.canvas.width, this.c.canvas.height);\r\n        this.c.fillStyle = 'black';\r\n\r\n        let v = this.props.inputs[0].value;\r\n\r\n        if (v < 0) {\r\n            v = 0\r\n        } else if (v > 1) {\r\n            v = 1\r\n        };\r\n\r\n\r\n        this.c.fillRect(v * this.c.canvas.width, 12, 1, this.c.canvas.height);\r\n    }\r\n\r\n    handleDragStart() {\r\n        this.setState({\r\n            dragging: true\r\n        })\r\n        this.props.handleDragStart(this.props.id)\r\n    }\r\n    handleDragEnd() {\r\n        this.setState({\r\n            dragging: false\r\n        })\r\n        this.props.handleDragEnd(this.props.id)\r\n    }\r\n\r\n    handleStopColorChange(e) {\r\n        let index = e.target.dataset.index;\r\n        let value = e.target.value;\r\n        this.setState((prevState) => {\r\n            prevState.stops[index].color = value\r\n            return prevState;\r\n        })\r\n    }\r\n    handleStopMouseDown(e, index) {\r\n        e.stopPropagation();\r\n        this.setState({ draggingStopIndex: index })\r\n    }\r\n    handleStopMouseUp(e) {\r\n        e.stopPropagation();\r\n        this.setState({ draggingStopIndex: null })\r\n    }\r\n\r\n    addStop(e) {\r\n        let x = (e.clientX - this.props.x - 14) / (this.c.canvas.width - 12);\r\n        let imageData = this.c.getImageData(x, 1, 1, 1).data;\r\n        let c = utils.rgbToHex([imageData[0], imageData[1], imageData[2]])\r\n        if (x > 1) { x = 1 }\r\n        if (x < 0) { x = 0 }\r\n\r\n        this.setState((prevState) => {\r\n            prevState.stops.push({ position: x, color: c, picker: React.createRef() })\r\n            return prevState;\r\n        })\r\n    }\r\n\r\n    triggerColorPicker(e, index) {\r\n        e.stopPropagation()\r\n        this.state.stops[index].picker.current.click()\r\n    }\r\n\r\n    removeStop(e, index) {\r\n        e.stopPropagation();\r\n        this.setState((prevState) => {\r\n            prevState.stops.splice(index, 1)\r\n            return prevState;\r\n        })\r\n    }\r\n\r\n    handleStopDrag(e) {\r\n        let x = (e.clientX - this.props.x - 14) / (this.c.canvas.width - 12);\r\n        if (x > 1) { x = 1 }\r\n        if (x < 0) { x = 0 }\r\n        if (this.state.draggingStopIndex !== null) {\r\n            this.setState((prevState) => {\r\n                prevState.stops[this.state.draggingStopIndex].position = x;\r\n                return prevState;\r\n            })\r\n        }\r\n    }\r\n\r\n    handleDraftConnection(socketID) {\r\n        this.props.startDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    handleDraftConnectionDrop(socketID) {\r\n        this.props.finishDraftConnection(this.props.id, socketID)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.c = this.canvasRef.current.getContext('2d')\r\n    }\r\n    componentWillUnmount() {\r\n        this.props.removeNode(this.props.id)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.drawGradient()\r\n        let outputValue = this.solve();\r\n\r\n        if (utils.compareArrays(this.props.outputs[0].value, outputValue) === false) {\r\n            this.props.updateOutput(this.props.id, 0, outputValue)\r\n            this.props.updateNodes(this.props.id);\r\n        }\r\n    }\r\n    handleInputMouseUp(e) {\r\n        e.preventDefault();\r\n    }\r\n\r\n    solve() {\r\n        let v = this.props.inputs[0].value;\r\n        if (v > 1) { v = 1 };\r\n        if (v < 0) { v = 0 };\r\n\r\n        let x = (v * this.c.canvas.width)\r\n        let imageData = this.c.getImageData(x, 1, 1, 1).data;\r\n        return [imageData[0], imageData[1], imageData[2]]\r\n    }\r\n\r\n    render() {\r\n\r\n        const nodeCSS = {\r\n            width: `${this.props.width}px`,\r\n            height: `${this.props.height}px`,\r\n            transform: `translateX(${this.props.x}px) translateY(${this.props.y}px)`\r\n        }\r\n        const inputs = this.props.inputs.map((socket) =>\r\n            <Socket handleDraftConnectionDrop={this.handleDraftConnectionDrop} key={socket.id} id={socket.id} value={socket.value} label={socket.label}></Socket>\r\n        );\r\n        const outputs = this.props.outputs.map((socket) =>\r\n            <Socket key={socket.id} id={socket.id} finishDraftConnectionDrop={this.handleDraftConnectionDrop} handleDraftConnection={this.handleDraftConnection} value={socket.value} type={socket.type} label={socket.label}></Socket>\r\n        );\r\n        const stops = this.state.stops.map((stop, index) => {\r\n            let stopCSS = {\r\n                left: `${stop.position * 100}%`,\r\n            }\r\n            let indicatorCSS = {\r\n                background: `${stop.color}`,\r\n            }\r\n\r\n            return (\r\n                <li key={index} style={stopCSS} className='gradient--stop ' data-dragging={stop.dragging}>\r\n                    <div onMouseDown={(e) => { this.handleStopMouseDown(e, index) }} onMouseUp={(e) => { this.handleStopMouseUp(e) }} onClick={(e) => { e.stopPropagation() }} style={indicatorCSS} data-index={index} className='stop--indicator'></div>\r\n                    <div className='stop--controls'>\r\n                        <button onClick={(e) => { this.triggerColorPicker(e, index) }} className='stop--edit'>\r\n                            <svg viewBox=\"0 0 24 24\">\r\n                                <path fill=\"#000000\" d=\"M20.71,4.04C21.1,3.65 21.1,3 20.71,2.63L18.37,0.29C18,-0.1 17.35,-0.1 16.96,0.29L15,2.25L18.75,6M17.75,7L14,3.25L4,13.25V17H7.75L17.75,7Z\" />\r\n                            </svg>\r\n                        </button>\r\n                        <button className='stop--remove' onClick={(e) => this.removeStop(e, index)}>\r\n                            <svg viewBox=\"0 0 24 24\">\r\n                                <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                    <input onClick={(e) => { e.stopPropagation() }} ref={stop.picker} type='color' data-index={index} value={stop.color} onChange={this.handleStopColorChange}></input>\r\n                </li>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <div onMouseUp={this.handleStopMouseUp} data-dragging={this.state.dragging} className='node' key={this.props.id} style={nodeCSS}>\r\n                <header onMouseDown={this.handleDragStart} onMouseUp={this.handleDragEnd} className='node-header'>\r\n                    <span>{this.props.title}</span>\r\n                    <button onClick={this.handleClose} className='node--close'>\r\n                        <svg viewBox=\"0 0 24 24\">\r\n                            <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\r\n                        </svg>\r\n                        Close</button>\r\n                </header>\r\n                <div className='node-body'>\r\n                    <div className='gradient'>\r\n                        <canvas ref={this.canvasRef} width={this.props.width - 20 + 'px'} height='80' className='gradient--canvas'></canvas>\r\n                        <ul className='gradient--stops' onClick={this.addStop} onMouseMove={this.handleStopDrag}>\r\n                            {stops}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <ul className='node-inputs'>\r\n                    {inputs}\r\n                </ul>\r\n                <ul className='node-outputs'>\r\n                    {outputs}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\n\r\nexport default class NumberNode extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            dragging: false\r\n        }\r\n\r\n        this.handleClose = this.handleClose.bind(this)\r\n        this.handleDragStart = this.handleDragStart.bind(this)\r\n        this.handleDragEnd = this.handleDragEnd.bind(this)\r\n    }\r\n\r\n    handleClose(){\r\n        this.props.removeNode(this.props.id)\r\n    }\r\n\r\n    handleDragStart() {\r\n        this.setState({\r\n            dragging: true\r\n        })\r\n        this.props.handleDragStart(this.props.id)\r\n    }\r\n    handleDragEnd() {\r\n        this.setState({\r\n            dragging: false\r\n        })\r\n        this.props.handleDragEnd(this.props.id)\r\n    }\r\n\r\n\r\n    render() {\r\n        const nodeCSS = {\r\n            width: `${this.props.width}px`,\r\n            height: `${this.props.height}px`,\r\n            transform: `translateX(${this.props.x}px) translateY(${this.props.y}px)`\r\n        }\r\n\r\n        return (\r\n            <div data-dragging={this.state.dragging} className='node' key={this.props.id} style={nodeCSS}>\r\n                <header onMouseDown={this.handleDragStart} onMouseUp={this.handleDragEnd} className='node-header'>\r\n                    <span>{this.props.title}</span>\r\n                    <button onClick={this.handleClose} className='node--close'>\r\n                        <svg viewBox=\"0 0 24 24\">\r\n                            <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\r\n                        </svg>\r\n                    Close</button>\r\n                </header>\r\n                <div className='node-body'>\r\n                    <p>Node Paint is an experimental drawing tool designed and built by Max Kohler.</p>\r\n                    <p>Right-click to add nodes.</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\n\r\nexport default class Connection extends React.Component {\r\n    generatePath(x1, y1, x2, y2) {\r\n        let pathOffset = 40;\r\n        let path = `M ${x1} ${y1} C${x1 + pathOffset} ${y1}, ${x2 - pathOffset} ${y2}, ${x2} ${y2}`;\r\n       // let path = `M ${x1} ${y1} L${x2} ${y2}`;\r\n        return path;\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <path  d={this.generatePath(this.props.x1,this.props.y1,this.props.x2,this.props.y2)} />\r\n        )\r\n    }\r\n}","export default {\r\n    contextMenu: {\r\n        isOpen: false,\r\n        x: 0,\r\n        y: 0\r\n    },\r\n    draftConnection: {\r\n        isActive: false,\r\n        from: { nodeID: 0, socket: 0 }\r\n    },\r\n    mouse: {\r\n        x: 0,\r\n        y: 0\r\n    },\r\n    drag: {\r\n        isActive: false,\r\n        nodeIndex: null\r\n    },\r\n    nodes: [\r\n        {\r\n            type: 'rgbPicker',\r\n            title: 'Pen Output',\r\n            id: '1',\r\n            x: 660,\r\n            y: 540,\r\n            width: 160,\r\n            height: 80,\r\n            inputs: [],\r\n            outputs: [\r\n                { label: 'Color', value: [0,0,0], id: 1, type: 'color' }\r\n            ]\r\n        },\r\n        {\r\n            type: 'pen',\r\n            title: 'Pen Output',\r\n            id: 'pen',\r\n            x: 960,\r\n            y: 500,\r\n            width: 160,\r\n            height: 80,\r\n            inputs: [\r\n                { label: 'Radius', value: 0, id: 0 },\r\n                { label: 'Fill', value: 0, id: 1, type: 'color' }\r\n            ]\r\n        },\r\n        {\r\n            type: 'data',\r\n            title: 'Drawing Info',\r\n            id: 'data',\r\n            x: 60,\r\n            y: 250,\r\n            width: 160,\r\n            height: 90,\r\n            outputs: [\r\n                { label: 'Distance', value: 0, id: 0, type: '' },\r\n                { label: 'Pen X', value: 0, id: 1, type: '' },\r\n                { label: 'Pen Y', value: 0, id: 2, type: '' }\r\n            ]\r\n        },\r\n    ],\r\n    connections: [\r\n        {from: {nodeID: 'data', socket: 0}, to: {nodeID: 'pen', socket: 0}},\r\n        {from: {nodeID: '1', socket: 0}, to: {nodeID: 'pen', socket: 1}},\r\n    ]\r\n}","import React from 'react';\r\nimport './css/menu.css';\r\n\r\nexport default class ContextMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick(e) {\r\n        this.props.addNode(e.target.getAttribute('data-value'))\r\n    }\r\n    render() {\r\n        const menuCSS = {\r\n            transform: `translateX(${this.props.x}px) translateY(${this.props.y}px)`\r\n        }\r\n\r\n        return (\r\n            <ul className='menu' style={menuCSS}>\r\n                <li className='menu--item header'>Basic</li>\r\n                <li className='menu--item'><button data-value='number' onClick={this.handleClick}>Number</button></li>\r\n                <li className='menu--item'><button data-value='display' onClick={this.handleClick}>Display</button></li>\r\n                <li className='menu--item'><button data-value='math' onClick={this.handleClick}>Math</button></li>\r\n                <li className='menu--item'><button data-value='wave' onClick={this.handleClick}>Wave</button></li>\r\n                \r\n                <li className='menu--item header'>Colour</li>\r\n                <li className='menu--item'><button data-value='rgbSplit' onClick={this.handleClick}>Split RGB</button></li>\r\n                <li className='menu--item'><button data-value='rgbCombine' onClick={this.handleClick}>Combine RGB</button></li>\r\n                <li className='menu--item'><button data-value='rgbPicker' onClick={this.handleClick}>Colour Picker</button></li>\r\n                <li className='menu--item'><button data-value='ramp' onClick={this.handleClick}>Colour Ramp</button></li>\r\n            </ul>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport * as utils from './utils.js';\r\nimport NumberNode from './NumberNode.js'\r\nimport DisplayNode from './DisplayNode.js'\r\nimport MathNode from './MathNode.js'\r\nimport PenNode from './PenNode'\r\nimport DataNode from './DataNode.js'\r\nimport RGBNode from './RGBNode.js'\r\nimport RGBSplitNode from './RGBSplitNode.js'\r\nimport RGBPickerNode from './RGBPickerNode.js'\r\nimport WaveNode from './WaveNode.js'\r\nimport RampNode from './RampNode.js'\r\nimport InfoNode from './InfoNode.js'\r\n\r\nimport Connection from './Connection.js'\r\nimport testState from './testState.js'\r\nimport ContextMenu from './ContextMenu.js'\r\nimport makeNode from './makeNode.js'\r\n\r\nexport default class NodeContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.updateNodes = this.updateNodes.bind(this)\r\n        this.getNodeByID = this.getNodeByID.bind(this)\r\n        this.updateOutput = this.updateOutput.bind(this)\r\n        this.addNode = this.addNode.bind(this)\r\n        this.removeNode = this.removeNode.bind(this)\r\n        this.handleMouseMove = this.handleMouseMove.bind(this)\r\n        this.handleContextMenu = this.handleContextMenu.bind(this)\r\n        this.startDraftConnection = this.startDraftConnection.bind(this)\r\n        this.finishDraftConnection = this.finishDraftConnection.bind(this)\r\n        this.handleMouseUp = this.handleMouseUp.bind(this)\r\n        this.handleDragStart = this.handleDragStart.bind(this)\r\n        this.handleDragEnd = this.handleDragEnd.bind(this)\r\n        this.componentDidMount = this.componentDidMount.bind(this)\r\n        this.state = testState;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState((prevState) => {\r\n            return prevState;\r\n        })\r\n    }\r\n\r\n    addNode(type) {\r\n        this.setState((prevState) => {\r\n            prevState.nodes.push(makeNode(type, this.state.contextMenu.x, this.state.contextMenu.y))\r\n            prevState.contextMenu.isOpen = false;\r\n            return prevState;\r\n        })\r\n    }\r\n    removeNode(nodeID) {\r\n        let index = this.getNodeByID(nodeID);\r\n        if (index !== false) {\r\n            this.setState((prevState) => {\r\n                // Find affected connections and remove them\r\n                prevState.connections = prevState.connections.filter(c => {\r\n                    if (c.from.nodeID === nodeID || c.to.nodeID === nodeID) {\r\n                        return false\r\n                    }\r\n                    return true;\r\n                })\r\n\r\n                prevState.nodes.splice(index, 1)\r\n                return prevState;\r\n            })\r\n\r\n        }\r\n    }\r\n    startDraftConnection(nodeID, socket) {\r\n        this.setState({\r\n            draftConnection: {\r\n                isActive: true,\r\n                from: { nodeID: nodeID, socket: socket }\r\n            }\r\n        })\r\n    }\r\n\r\n    isConnectionValid(proposedConnection) {\r\n        return true;\r\n    }\r\n\r\n    finishDraftConnection(nodeID, socket) {\r\n        let proposedConnection = {\r\n            from: { nodeID: this.state.draftConnection.from.nodeID, socket: this.state.draftConnection.from.socket },\r\n            to: { nodeID: nodeID, socket: socket },\r\n            id: Math.random()\r\n        }\r\n        if (this.isConnectionValid(proposedConnection)) {\r\n            this.setState((prevState) => {\r\n                // Clear any previous connections\r\n                for (let i = 0; i < this.state.connections.length; i++) {\r\n                    let c = this.state.connections[i];\r\n                    if (c.to.nodeID === proposedConnection.to.nodeID &&\r\n                        c.to.socket === proposedConnection.to.socket) {\r\n                        prevState.connections.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n                prevState.connections.push(proposedConnection)\r\n                return prevState;\r\n            }, () => this.updateNodes(proposedConnection.from.nodeID))\r\n            // updateNodes() in a callback because setState() is async\r\n\r\n        }\r\n    }\r\n\r\n    handleDragStart(nodeID) {\r\n        let dragIndex = this.getNodeByID(nodeID);\r\n        this.setState({\r\n            drag: {\r\n                isActive: true,\r\n                nodeIndex: dragIndex\r\n            }\r\n        })\r\n    }\r\n    handleDragEnd() {\r\n        this.setState({\r\n            drag: {\r\n                isActive: false,\r\n                nodeIndex: null\r\n            }\r\n        })\r\n    }\r\n\r\n    handleMouseMove(e) {\r\n        let deltaX = e.clientX - this.state.mouse.x;\r\n        let deltaY = e.clientY - this.state.mouse.y;\r\n        this.setState({\r\n            mouse: {\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                deltaX: deltaX,\r\n                deltaY: deltaY,\r\n            }\r\n        }, function () {\r\n\r\n            if (utils.distance(this.state.mouse.x, this.state.mouse.y, this.state.contextMenu.x, this.state.contextMenu.y) > 200 && this.state.contextMenu.isOpen === true) {\r\n                this.setState({ contextMenu: { isActive: false } })\r\n            }\r\n\r\n            if (this.state.drag.isActive) {\r\n                this.setState((prevState) => {\r\n                    prevState.nodes[this.state.drag.nodeIndex].x += this.state.mouse.deltaX\r\n                    prevState.nodes[this.state.drag.nodeIndex].y += this.state.mouse.deltaY\r\n                    return prevState;\r\n                })\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    handleMouseUp(e) {\r\n        if (this.state.draftConnection.isActive === true) {\r\n            this.setState({\r\n                draftConnection: { isActive: false }\r\n            })\r\n        }\r\n\r\n        if (this.state.drag.isActive === true) {\r\n            this.setState({\r\n                drag: { isActive: false }\r\n            })\r\n        }\r\n    }\r\n\r\n    handleContextMenu(e) {\r\n        e.preventDefault()\r\n        this.setState({\r\n            contextMenu: {\r\n                isOpen: true,\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            }\r\n        })\r\n    }\r\n\r\n    getNodeByID(id) {\r\n        for (let i = 0; i < this.state.nodes.length; i++) {\r\n            if (this.state.nodes[i].id === id) {\r\n                return i;\r\n            }\r\n        }\r\n        console.error(`Node with ID ${id} could not be found.`)\r\n        return false;\r\n    }\r\n\r\n    updateOutput(nodeID, outputIndex, newValue) {\r\n        const nodeIndex = this.getNodeByID(nodeID);\r\n        this.setState((prevState) => {\r\n            prevState.nodes[nodeIndex].outputs[outputIndex].value = newValue;\r\n            return prevState;\r\n        })\r\n    }\r\n    updateNodes(id) {\r\n\r\n        // We're going top-down\r\n        // Find every node that's connected to this one's outputs\r\n        // We're passing the origin node.\r\n        // Then all subsequent nodes call this method themselves \r\n\r\n        //console.log(`Running update from node ID ${id}.`);\r\n\r\n        let relevantConnections = []\r\n        for (let i = 0; i < this.state.connections.length; i++) {\r\n            let c = this.state.connections[i];\r\n            if (c.from.nodeID === id) {\r\n                relevantConnections.push(c)\r\n            }\r\n        }\r\n\r\n        //console.log(`Found ${relevantConnections.length} subsequent nodes.`);\r\n        for (let i = 0; i < relevantConnections.length; i++) {\r\n\r\n            const rc = relevantConnections[i];\r\n            const toIndex = this.getNodeByID(rc.to.nodeID);\r\n            const fromIndex = this.getNodeByID(rc.from.nodeID);\r\n\r\n            this.setState((prevState) => {\r\n                prevState.nodes[toIndex].inputs[rc.to.socket].value = prevState.nodes[fromIndex].outputs[rc.from.socket].value;\r\n                return prevState;\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const connectionItems = this.state.connections.map(function (c) {\r\n            let toIndex = this.getNodeByID(c.to.nodeID)\r\n            let fromIndex = this.getNodeByID(c.from.nodeID)\r\n            let x1 = this.state.nodes[fromIndex].x + this.state.nodes[fromIndex].width;\r\n            let y1 = (this.state.nodes[fromIndex].y + this.state.nodes[fromIndex].height) - ((this.state.nodes[fromIndex].outputs.length - c.from.socket) * 17);\r\n\r\n            let x2 = this.state.nodes[toIndex].x;\r\n            let y2 = (this.state.nodes[toIndex].y + this.state.nodes[toIndex].height) - ((this.state.nodes[toIndex].inputs.length - c.to.socket) * 17);\r\n\r\n            return (<Connection key={c.id} x1={x1} y1={y1} x2={x2} y2={y2}></Connection>)\r\n        }, this)\r\n\r\n        const nodeItems = this.state.nodes.map(function (node) {\r\n            if (node.type === 'number') {\r\n                return <NumberNode removeNode={this.removeNode} handleDragStart={this.handleDragStart} handleDragEnd={this.handleDragEnd} finishDraftConnection={this.finishDraftConnection} startDraftConnection={this.startDraftConnection} updateOutput={this.updateOutput} update={this.updateNodes} outputs={node.outputs} width={node.width} height={node.height} x={node.x} y={node.y} key={node.id} id={node.id} title={node.title}></NumberNode>\r\n            } else if (node.type === 'data') {\r\n                return <DataNode drawingData={this.props.drawingData} handleDragStart={this.handleDragStart} handleDragEnd={this.handleDragEnd} finishDraftConnection={this.finishDraftConnection} startDraftConnection={this.startDraftConnection} outputs={node.outputs} update={this.updateNodes} updateOutput={this.updateOutput} width={node.width} height={node.height} x={node.x} y={node.y} key={node.id} id={node.id} title={node.title}></DataNode>\r\n\r\n            } else if (node.type === 'display') {\r\n                return <DisplayNode removeNode={this.removeNode} handleDragStart={this.handleDragStart} handleDragEnd={this.handleDragEnd} finishDraftConnection={this.finishDraftConnection} startDraftConnection={this.startDraftConnection} inputs={node.inputs} update={this.updateNodes} width={node.width} height={node.height} x={node.x} y={node.y} key={node.id} id={node.id} title={node.title}></DisplayNode>\r\n            } else if (node.type === 'math') {\r\n                return <MathNode removeNode={this.removeNode} handleDragStart={this.handleDragStart} handleDragEnd={this.handleDragEnd} finishDraftConnection={this.finishDraftConnection} startDraftConnection={this.startDraftConnection} inputs={node.inputs} outputs={node.outputs} updateOutput={this.updateOutput} updateNodes={this.updateNodes} width={node.width} height={node.height} x={node.x} y={node.y} id={node.id} key={node.id} title={node.title}></MathNode>\r\n            } else if (node.type === 'pen') {\r\n                return <PenNode pen={this.props.pen} updatePen={this.props.updatePen} handleDragStart={this.handleDragStart} handleDragEnd={this.handleDragEnd} finishDraftConnection={this.finishDraftConnection} startDraftConnection={this.startDraftConnection} updateOutput={this.updateOutput} update={this.updateNodes} inputs={node.inputs} outputs={node.outputs} width={node.width} height={node.height} x={node.x} y={node.y} key={node.id} id={node.id} title={node.title}></PenNode>\r\n            } else if (node.type === 'rgbCombine') {\r\n                return <RGBNode removeNode={this.removeNode} handleDragStart={this.handleDragStart} handleDragEnd={this.handleDragEnd} finishDraftConnection={this.finishDraftConnection} startDraftConnection={this.startDraftConnection} updateNodes={this.updateNodes} updateOutput={this.updateOutput} update={this.updateNodes} outputs={node.outputs} inputs={node.inputs} width={node.width} height={node.height} x={node.x} y={node.y} key={node.id} id={node.id} title={node.title}></RGBNode>\r\n\r\n            } else if (node.type === 'rgbPicker') {\r\n                return <RGBPickerNode removeNode={this.removeNode} handleDragStart={this.handleDragStart} handleDragEnd={this.handleDragEnd} finishDraftConnection={this.finishDraftConnection} startDraftConnection={this.startDraftConnection} updateNodes={this.updateNodes} updateOutput={this.updateOutput} update={this.updateNodes} outputs={node.outputs} inputs={node.inputs} width={node.width} height={node.height} x={node.x} y={node.y} key={node.id} id={node.id} title={node.title}></RGBPickerNode>\r\n\r\n            } else if (node.type === 'rgbSplit') {\r\n                return <RGBSplitNode removeNode={this.removeNode} handleDragStart={this.handleDragStart} handleDragEnd={this.handleDragEnd} finishDraftConnection={this.finishDraftConnection} startDraftConnection={this.startDraftConnection} updateNodes={this.updateNodes} updateOutput={this.updateOutput} update={this.updateNodes} outputs={node.outputs} inputs={node.inputs} width={node.width} height={node.height} x={node.x} y={node.y} key={node.id} id={node.id} title={node.title}></RGBSplitNode>\r\n            } else if (node.type === 'wave') {\r\n                return <WaveNode removeNode={this.removeNode} handleDragStart={this.handleDragStart} handleDragEnd={this.handleDragEnd} finishDraftConnection={this.finishDraftConnection} startDraftConnection={this.startDraftConnection} updateNodes={this.updateNodes} updateOutput={this.updateOutput} update={this.updateNodes} outputs={node.outputs} inputs={node.inputs} width={node.width} height={node.height} x={node.x} y={node.y} key={node.id} id={node.id} title={node.title}></WaveNode>\r\n            } else if (node.type === 'ramp') {\r\n                return <RampNode removeNode={this.removeNode} handleDragStart={this.handleDragStart} handleDragEnd={this.handleDragEnd} finishDraftConnection={this.finishDraftConnection} startDraftConnection={this.startDraftConnection} updateNodes={this.updateNodes} updateOutput={this.updateOutput} update={this.updateNodes} outputs={node.outputs} inputs={node.inputs} width={node.width} height={node.height} x={node.x} y={node.y} key={node.id} id={node.id} title={node.title}></RampNode>\r\n            } else if (node.type === 'info') {\r\n                return <InfoNode removeNode={this.removeNode} handleDragStart={this.handleDragStart} handleDragEnd={this.handleDragEnd} width={node.width} height={node.height} x={node.x} y={node.y} key={node.id} id={node.id} title={node.title}></InfoNode>\r\n            }\r\n            return false;\r\n        }, this);\r\n\r\n        let contextMenu = '';\r\n        if (this.state.contextMenu.isOpen) {\r\n            contextMenu = <ContextMenu addNode={this.addNode} x={this.state.contextMenu.x} y={this.state.contextMenu.y}></ContextMenu>\r\n        }\r\n\r\n        let draftConnection = '';\r\n        if (this.state.draftConnection.isActive) {\r\n            let fromNode = this.state.nodes[this.getNodeByID(this.state.draftConnection.from.nodeID)]\r\n            let x1 = fromNode.x + fromNode.width;\r\n            let y1 = fromNode.y + fromNode.height - ((fromNode.outputs.length - this.state.draftConnection.from.socket) * 17);\r\n            draftConnection = <Connection key={0} x1={x1} y1={y1} x2={this.state.mouse.x} y2={this.state.mouse.y}></Connection>\r\n        }\r\n\r\n        return (\r\n            <div className='nodeContainer' onMouseUp={this.handleMouseUp} onMouseMove={this.handleMouseMove} onContextMenu={this.handleContextMenu}>\r\n                < svg width={this.props.width + 'px'} height={this.props.height + 'px'} >\r\n                    {connectionItems}\r\n                    {draftConnection}\r\n                </svg>\r\n                {contextMenu}\r\n                {nodeItems}\r\n            </div >\r\n        )\r\n    }\r\n}","export default function makeNode(type, x, y) {\r\n    let node = {\r\n        type: type,\r\n        title: 'New Node',\r\n        id: Math.random().toFixed(5),\r\n        x: x,\r\n        y: y,\r\n        width: 250,\r\n        height: 100,\r\n        outputs: [],\r\n        inputs: []\r\n    }\r\n\r\n    if (type === 'number') {\r\n        node.title = 'Number'\r\n        node.width = 180;\r\n        node.outputs.push({ label: 'Value', value: 0, id: 0 })\r\n    }\r\n    if (type === 'math') {\r\n        node.title = 'Math';\r\n        node.height = 130;\r\n        node.width = 210;\r\n        node.outputs.push({ label: 'Output', value: 0, id: 0 })\r\n        node.inputs.push({ label: 'Input A', value: 0, id: 0 })\r\n        node.inputs.push({ label: 'Input B', value: 0, id: 1 })\r\n    }\r\n    if (type === 'display') {\r\n        node.title = 'Display'\r\n        node.width = 120\r\n        node.height = 90\r\n        node.inputs.push({ label: 'Input', value: 0, id: 0 })\r\n    }\r\n    \r\n    if (type === 'rgbCombine') {\r\n        node.title = 'Combine RGB'\r\n        node.width = 140\r\n        node.inputs.push({ label: 'R', value: 0, id: 0 })\r\n        node.inputs.push({ label: 'G', value: 0, id: 1 })\r\n        node.inputs.push({ label: 'B', value: 0, id: 2 })\r\n        node.outputs.push({ label: 'Color', value: 0, id: 0, type: 'color' })\r\n    }\r\n    if (type === 'rgbSplit') {\r\n        node.title = 'Split RGB'\r\n        node.width = 140\r\n        node.inputs.push({ label: 'Color', value: 0, id: 0, type: 'color' }) \r\n        node.outputs.push({ label: 'R', value: 0, id: 0 })\r\n        node.outputs.push({ label: 'G', value: 0, id: 1 })\r\n        node.outputs.push({ label: 'B', value: 0, id: 2 })\r\n    }\r\n    if (type === 'rgbPicker') {\r\n        node.title = 'Color Picker'\r\n        node.width = 140\r\n        node.outputs.push({ label: 'Color', type: 'color', value: [123,32,255], id: 0 })\r\n    }\r\n\r\n    if (type === 'pen') {\r\n        node.title = 'Pen'\r\n        node.inputs.push({ label: 'Radius', value: 0, id: 0 })\r\n        node.inputs.push({ label: 'Colour', value: 0, id: 1 })\r\n    }\r\n    \r\n    if (type === 'wave') {\r\n        node.title = 'Wave'\r\n        node.height = 260;\r\n        node.inputs.push({ label: 'Amplitude', value: 0, id: '0' });\r\n        node.inputs.push({ label: 'Frequency', value: 0, id: '1' });\r\n        node.inputs.push({ label: 'Phase', value: 0, id: '2' });\r\n        node.outputs.push({ label: 'Value', value: 0, id: '0' });\r\n    }\r\n    \r\n    if (type === 'ramp') {\r\n        node.title = 'Color Ramp'\r\n        node.height = 200;\r\n        node.inputs.push({ label: 'Position', value: 0.5, id: '0' }); \r\n        node.outputs.push({ label: 'Color', value: [0,0,0], id: '0', type: 'color' });\r\n    }\r\n\r\n    return node;\r\n\r\n}","import React from 'react';\r\nimport * as utils from './utils.js';\r\n\r\nexport default class Canvas extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isDrawing: false\r\n    }\r\n\r\n    this.canvasRef = React.createRef();\r\n    this.c = null;\r\n\r\n    this.handleMouseDown = this.handleMouseDown.bind(this);\r\n    this.handleMouseUp = this.handleMouseUp.bind(this);\r\n    this.handleMouseMove = this.handleMouseMove.bind(this);\r\n    this.componentDidMount = this.componentDidMount.bind(this);\r\n    this.clear = this.clear.bind(this);\r\n    this.resetData = this.resetData.bind(this);\r\n    this.saveImage = this.saveImage.bind(this)\r\n  }\r\n  componentDidMount() {\r\n    this.c = this.canvasRef.current.getContext('2d');\r\n    this.c.fillCircle = function (x, y, r) {\r\n      this.beginPath();\r\n      this.arc(x, y, r, 0, 2 * Math.PI, false);\r\n      this.fill();\r\n    };\r\n  }\r\n  handleMouseMove(e) {\r\n    if (this.state.isDrawing) {\r\n      this.props.updateDrawingData({\r\n        distance: this.props.drawingData.distance + 1,\r\n        speed: 0,\r\n        x: e.clientX,\r\n        y: e.clientY - this.props.height\r\n      })\r\n\r\n      let x = e.clientX\r\n      let y = e.clientY - this.props.height;\r\n      this.c.fillStyle = utils.formatRGB(this.props.pen.fill);\r\n      this.c.fillCircle(x, y, this.props.pen.radius)\r\n    }\r\n  }\r\n  handleMouseDown(e) {\r\n    this.setState({ isDrawing: true })\r\n    this.props.updateDrawingData({\r\n      distance: this.props.drawingData.distance + 1,\r\n      speed: 0,\r\n      x: e.clientX,\r\n      y: e.clientY - this.props.height\r\n    })\r\n    let x = e.clientX\r\n    let y = e.clientY - this.props.height;\r\n    this.c.fillStyle = utils.formatRGB(this.props.pen.fill);\r\n    this.c.fillCircle(x, y, this.props.pen.radius)\r\n  }\r\n  handleMouseUp() {\r\n    this.setState({ isDrawing: false })\r\n  }\r\n  clear() {\r\n    this.c.clearRect(0, 0, this.props.width, this.props.height)\r\n  }\r\n  saveImage(e) {\r\n    this.c.canvas.toBlob((blob) => {\r\n      let URLObj = window.URL || window.webkitURL;\r\n      let a = document.createElement(\"a\");\r\n      a.href = URLObj.createObjectURL(blob);\r\n      a.download = \"untitled.png\";\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n    });\r\n  }\r\n  resetData() {\r\n    this.props.updateDrawingData({\r\n      distance: 0,\r\n      speed: 0,\r\n      area: 0,\r\n      x: 0,\r\n      y: 0\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='canvas panel'>\r\n        <div className='panel--menu'>\r\n          <button onClick={this.resetData}>Reset</button>\r\n          <button onClick={this.clear}>Clear</button>\r\n          <button onClick={this.saveImage}>Save</button>\r\n        </div>\r\n        <canvas height={this.props.height} width={this.props.width} ref={this.canvasRef} onMouseMove={this.handleMouseMove} onMouseDown={this.handleMouseDown} onMouseUp={this.handleMouseUp} className='world'></canvas>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\nimport NodeContainer from './NodeContainer';\nimport Canvas from './Canvas';\n\nimport './App.css';\n\nclass App extends React.Component {\n  \n  constructor(props){\n    super(props)\n    this.state = {\n      width: 0,\n      height: 0,\n      pen: {\n        radius: 0,\n        fill: [0,0,0],\n        x: 0,\n        y: 0\n      },\n      drawingData: {\n        speed: 0,\n        distance: 0,\n        area: 0\n      }\n    }\n\n    this.updatePen = this.updatePen.bind(this)\n    this.updateDrawingData = this.updateDrawingData.bind(this)\n  }\n\n  updatePen(newPen){\n    this.setState({\n      pen: {\n        x: newPen.x,\n        y: newPen.y,\n        radius: newPen.radius,\n        fill: newPen.fill\n      }\n    })\n  }\n  updateDrawingData(newData){\n    this.setState({\n      drawingData: newData\n    })\n  }\n\n  componentWillMount(){\n    this.setState({height: window.innerHeight, width: window.innerWidth});  \n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <header className='app--header'>\n          <h1>Node Paint</h1>\n          <a href='#1'>Info</a>\n        </header>\n        <NodeContainer drawingData={this.state.drawingData} pen={this.state.pen} updatePen={this.updatePen} width={this.state.width} height={this.state.height * .5}></NodeContainer>\n        <div className='divider'></div>\n        <Canvas drawingData={this.state.drawingData} updateDrawingData={this.updateDrawingData} width={this.state.width} height={this.state.height * .5} pen={this.state.pen}></Canvas>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// if (module.hot) {\n//     module.hot.accept();\n// }\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}